summarise(mean(daily_diff))
raw_df %>%
filter(lubridate::year(dt)==2019) %>%
arrange(dt) %>%
group_by(lubridate::as_date(dt)) %>%
summarise(avg_bio = mean(biomass_lic)) %>%
transmute(avg_bio, bio_prev_h = lag(avg_bio,1), bio_next_h = lead(avg_bio,1)) %>%
mutate(daily_diff = (bio_next_h-bio_prev_h)/bio_prev_h)-1
raw_df %>%
filter(lubridate::year(dt)==2019) %>%
arrange(dt) %>%
group_by(lubridate::as_date(dt)) %>%
summarise(avg_bio = mean(biomass_lic)) %>%
transmute(avg_bio, bio_prev_h = lag(avg_bio,1), bio_next_h = lead(avg_bio,1)) %>%
mutate(daily_diff = (bio_next_h-bio_prev_h)/bio_prev_h)-1 %>%
#filter(daily_diff!='NA') %>%
summarise(mean(daily_diff))
raw_df %>%
filter(lubridate::year(dt)==2019) %>%
arrange(dt) %>%
group_by(lubridate::as_date(dt)) %>%
summarise(avg_bio = mean(biomass_lic)) %>%
transmute(avg_bio, bio_prev_h = lag(avg_bio,1), bio_next_h = lead(avg_bio,1)) %>%
mutate(daily_diff = (bio_next_h-bio_prev_h)/bio_prev_h)-1 %>%
#filter(daily_diff!='NA') %>%
mutate(mean(daily_diff))
raw_df %>%
filter(lubridate::year(dt)==2019) %>%
arrange(dt) %>%
group_by(lubridate::as_date(dt)) %>%
summarise(avg_bio = mean(biomass_lic)) %>%
transmute(avg_bio, bio_prev_h = lag(avg_bio,1), bio_next_h = lead(avg_bio,1)) %>%
mutate(daily_diff = (bio_next_h-bio_prev_h)/bio_prev_h)-1 %>%
#filter(daily_diff!='NA') %>%
summarise(mean(c(daily_diff)))
raw_df %>%
filter(lubridate::year(dt)==2019) %>%
arrange(dt) %>%
group_by(lubridate::as_date(dt)) %>%
summarise(avg_bio = mean(biomass_lic)) %>%
transmute(avg_bio, bio_prev_h = lag(avg_bio,1), bio_next_h = lead(avg_bio,1)) %>%
mutate(daily_diff = (bio_next_h-bio_prev_h)/bio_prev_h)-1 %>%
#filter(daily_diff!='NA') %>%
summarise(mean(c(daily_diff)))
raw_df %>%
filter(lubridate::year(dt)==2019) %>%
arrange(dt) %>%
group_by(lubridate::as_date(dt)) %>%
summarise(avg_bio = mean(biomass_lic)) %>%
transmute(avg_bio, bio_prev_h = lag(avg_bio,1), bio_next_h = lead(avg_bio,1)) %>%
mutate(daily_diff = (bio_next_h-bio_prev_h)/bio_prev_h)-1 %>%
#filter(daily_diff!='NA') %>%
ummarize(Mean. = mean(c(daily_diff)))
raw_df %>%
filter(lubridate::year(dt)==2019) %>%
arrange(dt) %>%
group_by(lubridate::as_date(dt)) %>%
summarise(avg_bio = mean(biomass_lic)) %>%
transmute(avg_bio, bio_prev_h = lag(avg_bio,1), bio_next_h = lead(avg_bio,1)) %>%
mutate(daily_diff = (bio_next_h-bio_prev_h)/bio_prev_h)-1 %>%
#filter(daily_diff!='NA') %>%
summarize(Mean. = mean(c(daily_diff)))
library(nycflights13)
df <- readRDS("rp_201801_202005_df.rds")
df <- readRDS("nycflights13)
df <- readRDS("nycflights13")
flights
names(flights)
glimpse(flights)
glimpse(flights)
library(dplyr)
glimpse(flights)
kable(airlines)
head(flights)
flights %>%
group_by(month) %>%
summarise(air_time)
summarise(mean(air_time)
flights %>%
flights %>%
group_by(month) %>%
summarise(mean(air_time))
flights %>%
group_by(year) %>%
summarise(mean(air_time))
head(planes)
head(flights)
names(flights)
by_origin <- flights %>%
group_by(origin) %>%
summarize(count = n())
by_origin
by_origin_monthly <- flights %>%
group_by(origin, month) %>%
summarize(count = n())
by_origin_monthly
named_dests  %>%
top_n(n = 10, wt = num_flights) %>%
arrange(desc(num_flights))
named_dests  %>%
top_n(n = 10, wt = num_flights) %>%
arrange(desc(num_flights))
named_dests %>%
top_n(n = 10, wt = num_flights)
library(nycflights13)
df <- readRDS("nycflights13")
planes
planes %>%
group_by(year) %>%
summirise(n())
planes %>%
group_by(year) %>%
summarise(n())
planes %>%
group_by(year) %>%
summarise(n()) %>%
min_rank(10, desc)
planes %>%
group_by(year) %>%
summarise(n()) %>%
min_rank(10)
planes %>%
group_by(year) %>%
summarise(n()) %>%
min_rank()
planes %>%
group_by(year) %>%
summarise(n()) %>%
min_rank()
planes %>%
group_by(year) %>%
summarise(n()) %>%
planes %>%
group_by(year) %>%
summarise(say=n()) %>%
min_rank(say
planes %>%
planes %>%
group_by(year) %>%
summarise(say=n())
planes %>%
group_by(year) %>%
summarise(say=n()) %>%
arrange(desc)
planes %>%
group_by(year) %>%
summarise(num_planes=n()) %>%
arrange(desc(num_planes))
planes %>%
group_by(year) %>%
summarise(num_planes=n()) %>%
arrange(asc(num_planes))
planes %>%
group_by(year) %>%
summarise(num_planes=n()) %>%
arrange(num_planes)
planes %>%
group_by(year) %>%
summarise(num_planes=n(), avg_planes= mean())
planes %>%
group_by(year) %>%
summarise(num_planes=n()) %>%
arrange(num_planes)
planes %>%
group_by(year) %>%
summarise(num_planes=n()) %>%
arrange(desc(num_planes))
planes %>%
group_by(year) %>%
summarise(num_planes=n()) %>%
summarise(mean_planes=mean(num_planes))
planes %>%
group_by(type)
planes %>%
group_by(type) %>%
summarise()
planes %>%
group_by(type) %>%
summarise(n())
planes %>%
group_by(type,model) %>%
summarise(n())
planes %>%
group_by(type,model) %>%
summarise(say=n()) %>%
arrange(desc(say))
planes %>%
group_by(type,model,manufacturer) %>%
summarise(say=n()) %>%
arrange(desc(say))
view(planes)
raw_df %>% distinct(round(speed))
raw_df %>% distinct(round(speed))
raw_df %>% distinct((speed))
planes
planes %>% distinct(speed)
fastest_planes = planes %>%
group_by(model) %>%
summarise(mean_speed= mean(speed),na.rm = TRUE)
fastest_planes
planes
fastest_planes = planes %>%
group_by(manufacturer,model) %>%
summarise(mean_speed= mean(speed),na.rm = TRUE)
fastest_planes
fastest_planes = planes %>%
group_by(manufacturer,model) %>%
summarise(mean_speed= mean(speed,na.rm = TRUE))
fastest_planes
fastest_planes = planes %>%
group_by(manufacturer,model) %>%
summarise(mean_speed = mean(speed,na.rm = TRUE))
arrange(desc(mean_speed))
fastest_planes = planes %>%
group_by(manufacturer,model) %>%
summarise(mean_speed = mean(speed,na.rm = TRUE))
arrange(desc(mean_speed))
fastest_planes = planes %>%
group_by(manufacturer,model) %>%
summarise(mean_speed = mean(speed,na.rm = TRUE))
fastest_planes
fastest_planes = planes %>%
group_by(manufacturer,model) %>%
summarise(mean_speed = mean(speed))
fastest_planes
fastest_planes = planes %>%
group_by(manufacturer,model) %>%
filter(speed!='NA')
summarise(mean_speed = mean(speed))
fastest_planes = planes %>%
filter(speed!='NA')
group_by(manufacturer,model) %>%
summarise(mean_speed = mean(speed))
planes
fastest_planes = planes %>%
filter(speed!='NA')
group_by(manufacturer,model) %>%
summarise(mean_speed = mean(speed))
fastest_planes = planes %>%
filter(speed!='NA')
group_by(model) %>%
summarise(mean_speed = mean(speed))
fastest_planes = planes %>%
filter(everything,speed!='NA')
planes %>%
distinct(engines)
planes %>%
distinct(engines,model)
planes %>%
distinct(engines,type)
head(planes)
fastest_planes = planes %>%
filter(speed!='NA')
fastest_planes
fastest_planes = planes %>%
filter(speed!='NA')
group_by(model,manufacturer ) %>%
summarise(mean_speed = mean(speed))
speed_planes = planes %>%
filter(speed!='NA')
speed_planes %>%
group_by(manufacturer,model ,engine ) %>%
summarise(avg_speed = mean(speed))
speed_planes = planes %>%
filter(speed!='NA')
speed_planes %>%
group_by(manufacturer,model ,engine ) %>%
summarise(avg_speed = mean(speed)) %>%
arrange(desc(avg_speed))
speed_planes %>%
group_by(manufacturer,model ,engine ) %>%
summarise(num_planes = n(),avg_speed = mean(speed)) %>%
arrange(desc(avg_speed))
seat_planes = planes %>%
filter(seat!='NA')
seat_planes = planes %>%
filter(seats!='NA')
seat_planes
planes %>%
filter(seats=='NA')
speed_planes %>%
group_by(manufacturer) %>%
summarise(num_planes = n(),avg_speed = mean(speed)) %>%
arrange(desc(avg_speed))
speed_planes %>%
group_by(manufacturer) %>%
summarise(num_planes = n(),avg_speed = mean(speed),avg(seats)) %>%
arrange(desc(avg_speed))
speed_planes %>%
group_by(manufacturer) %>%
summarise(num_planes = n(),avg_speed = mean(speed),mean(seats)) %>%
arrange(desc(avg_speed))
planes %>%
group_by(manufacturer) %>%
summarise(num_planes = n(),avg_speed = mean(speed),mean(seats)) %>%
arrange(desc(num_planes))
planes %>%
group_by(manufacturer) %>%
summarise(num_planes = n(),avg_speed = mean(speed, na.rm = TRUE),mean(seats)) %>%
arrange(desc(num_planes))
speed_planes %>%
group_by(manufacturer) %>%
summarise(num_planes = n(),avg_speed = mean(speed),mean(seats)) %>%
arrange(desc(avg_speed))
planes %>%
group_by(manufacturer) %>%
summarise(num_planes = n(),avg_speed = mean(speed, na.rm = TRUE),mean(seats)) %>%
arrange(desc(avg_speed))
planes %>%
group_by(manufacturer) %>%
summarise(num_planes = n(),avg_speed = mean(speed, na.rm = TRUE),mean(seats)) %>%
arrange(desc(num_planes))
speed_planes %>%
group_by(manufacturer) %>%
summarise(num_planes = n(),avg_speed = mean(speed, na.rm = TRUE),mean(seats)) %>%
arrange(desc(num_planes))
planes %>%
group_by(manufacturer) %>%
summarise(num_planes = n(),avg_speed = mean(speed, na.rm = TRUE),mean(seats)) %>%
arrange(desc(num_planes))
planes %>%
group_by(year) %>%
summarise(num_planes=n())
planes %>%
group_by(year) %>%
summarise(num_planes=n()) %>%
arrange(desc(num_planes))
planes %>%
group_by(year) %>%
summarise(num_planes=n()) %>%
summarise(mean_planes=mean(num_planes))
speed_planes %>%
arrange(desc(speed))
speed_planes %>%
arrange(desc(seat))
speed_planes %>%
arrange(desc(seats))
speed_planes
speed_planes %>%
arrange(desc(year))
planes %>%
arrange(desc(seats))
planes %>%
group_by(year)
arrange(desc(seats))
planes %>%
group_by(year) %>%
summarise(n())
arrange(desc(seats))
planes %>%
group_by(year) %>%
summarise(avg_seats=mean(seats))
arrange(desc(avg_seats))
planes %>%
group_by(year) %>%
summarise(avg_seats=mean(seats))
planes %>%
group_by(year) %>%
summarise(num_planes = n(),avg_seats=mean(seats))
arrange(desc(avg_seats))
planes %>%
group_by(year) %>%
summarise(num_planes = n(),avg_seats=mean(seats))
planes %>%
group_by(year) %>%
summarise(num_planes = n(),avg_seats=mean(seats))
arrange(desc(year))
planes %>%
group_by(year) %>%
summarise(year,num_planes = n(),avg_seats=mean(seats))
arrange(desc(year))
planes %>%
group_by(year) %>%
summarise(year,num_planes = n(),avg_seats=mean(seats))
arrange(desc(avg_seats))
planes %>%
group_by(year) %>%
summarise(num_planes = n(),avg_seats=mean(seats))
arrange(desc(avg_seats))
test <- planes %>%
group_by(year) %>%
summarise(num_planes = n(),avg_seats=mean(seats))
arrange(desc(avg_seats))
test = planes %>%
group_by(year) %>%
summarise(num_planes = n(),avg_seats=mean(seats))
arrange(desc(avg_seats))
test = planes %>%
group_by(year) %>%
summarise(num_planes = n(),avg_seats=mean(seats))
test
test %>% arrange(desc(avg_seats))
planes %>%
group_by(type,model,manufacturer) %>%
summarise(say=n()) %>%
arrange(desc(say))
planes %>% filter(manufacturer=='BOEING' & model ='737-7H4')
planes %>% filter(manufacturer=='BOEING' & model =='737-7H4')
planes %>% filter(manufacturer=='BOEING' & model =='737-7H4') %>%
group_by(year)
planes %>% filter(manufacturer=='BOEING' & model =='737-7H4') %>%
group_by(year) %>%
summarise(n())
planes %>% filter(manufacturer=='BOEING' & model =='737-7H4') %>%
group_by(year) %>%
summarise(n()) %>%
arrange(desc(year))
glimpse(planes)
planes %>% filter(speed=='NA')
planes %>%
filter(speed=='NA')
planes %>%
filter(speed =='NA')
speed_planes = planes %>%
filter(is.na(speed))
planes %>%
filter(is.na(speed))
planes %>%
filter(is.na(mannufacturer))
planes %>%
filter(is.na(manufacturer))
planes %>%
filter(is.na(type))
planes %>%
filter(is.na(tailnum))
planes %>%
filter(is.na(seats))
planes %>%
filter(is.na(year))
planes %>%
filter(is.na(engine))
planes %>%
filter(is.na(type))
planes %>%
group_by(type,model,manufacturer) %>%
summarise(say=n()) %>%
arrange(desc(say))
planes %>%
group_by(model,manufacturer) %>%
summarise(say=n()) %>%
arrange(desc(say))
planes %>%
group_by(model,manufacturer) %>%
summarise(say=n()) %>%
arrange(desc(say),10)
```
```
planes %>%
filter(model='737-7H4')
planes %>%
filter(model='737-7H4') %>%
group_by(year,type,engines,engine,mean(seats),mean(speed)) %>%
summarise(say=n()) %>%
arrange(desc(say),10)
planes %>%
filter(model='737-7H4') %>%
group_by(year,type,engines,engine) %>%
summarise(say=n(),mean(seats),mean(speed)) %>%
arrange(desc(say),10)
planes %>%
filter(model=='737-7H4') %>%
group_by(year,type,engines,engine) %>%
summarise(say=n(),mean(seats),mean(speed)) %>%
arrange(desc(say),10)
planes %>%
filter(model=='737-7H4') %>%
group_by(year,type,engines,engine) %>%
summarise(say=n(),mean(seats)) %>%
arrange(desc(say),10)
planes %>%
filter(model=='737-7H4') %>%
group_by(type,engines,engine) %>%
summarise(say=n(),mean(seats)) %>%
arrange(desc(say),10)
planes %>%
filter(model=='737-7H4') %>%
group_by(year)
summarise(min(year),max(year))
planes %>%
filter(model=='737-7H4') %>%
group_by(year)
summarise()
planes %>%
filter(model=='737-7H4') %>%
group_by(year)
summarise(n())
planes %>%
filter(model=='737-7H4') %>%
group_by(year)
planes %>%
filter(model=='737-7H4') %>%
group_by(year)
summarise(n())
planes %>%
filter(model=='737-7H4') %>%
group_by(year)
summarise(say=n())
planes %>%
filter(model=='737-7H4') %>%
group_by(year) %>%
summarise(say=n())
planes %>%
filter(model=='737-7H4' & manufacturer!='BOEING')
planes %>%
filter(model=='737-7H4' & manufacturer=='BOEING')
planes %>%
filter(model=='737-7H4' & manufacturer!='BOEING')
```{r common_by_year, message = FALSE}
speed_planes %>%
group_by(manufacturer) %>%
summarise(num_planes = n(),avg_speed = mean(speed, na.rm = TRUE),mean(seats)) %>%
arrange(desc(num_planes))
